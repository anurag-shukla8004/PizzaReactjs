{"version":3,"sources":["CartContext.js","component/Sproduct.js","component/Product.js","pages/Home.js","component/Navigation.js","pages/Productpage.js","pages/Cart.js","pages/SingleProduct.js","App.js","index.js"],"names":["CartContext","createContext","Sproduct","props","useState","isAdding","setIsAdding","useContext","cart","setCart","product","to","name","src","alt","className","size","price","disabled","onClick","e","event","preventDefault","_cart","items","totalItems","setTimeout","addToCart","Product","products","setProducts","useEffect","fetch","then","response","json","map","_id","Home","href","pizza","Navigation","style","height","background","display","padding","borderRadius","Productpage","Cart","total","priceFetched","togglePriceFetched","method","headers","body","JSON","stringify","ids","Object","keys","res","getQty","productId","getSum","sum","length","image","existingQty","decrement","increment","qty","updatedProductsList","filter","handleDelete","naem","window","alert","SingleProduct","history","useParams","useHistory","sproduct","console","log","goBack","App","localStorage","getItem","parse","setItem","Provider","value","path","component","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.feb4f15f.chunk.js","sourcesContent":["import {createContext} from 'react';\n\n\nexport const CartContext = createContext(null);","\nimport {Link} from 'react-router-dom';\nimport {useContext, useState} from 'react';\nimport {CartContext} from '../CartContext';\n\nconst Sproduct = (props) => {\n const [isAdding, setIsAdding] = useState(false);\n  const {cart,setCart} = useContext(CartContext);\n  const { product } = props;\n\n  const addToCart = (event, product)=>{\n    event.preventDefault();\n    let _cart ={...cart};\n\n    if(!_cart.items){\n      _cart.items={}\n    }\n\n    if(!_cart.items[product.name]){\n      _cart.items[product.name] = _cart.items[product.name]+1;\n    }else{\n      _cart.items[product.name]=1;\n    }\n\n    if(!_cart.totalItems){\n      _cart.totalItems=0;\n    }\n       \n    _cart.totalItems += 1;\n\n    setCart(_cart);\n    setIsAdding(true);\n\n    setTimeout(() => {\n      setIsAdding(false);\n    }, 1000);\n\n    \n    \n  }\n\n  return (\n   <Link to={`/product/${product.name}`}>\n    <div>\n       <div>\n           <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTAr5J25hbEsBpd37RRyR2Q1c2yoAO2HzrqQuHvWiT5qAeJHp4FTXwt-Oisjhb2y-92Ec8&usqp=CAU\" alt=\"pizza\"/>\n           <div className=\"text-center\">\n\n           <h2 className=\"text-lg font-bold py-2\">{product.name}</h2>\n           <span className=\"bg-gray-200 py-1 rounded-full text-sm px-4\">{props.product.size}</span>\n\n           </div>\n           <div className=\"flex justify-between items-center mt-4\">\n             <span>₹{product.price}</span>\n             <button disabled={isAdding} onClick={(e) => { addToCart(e, product) }} className={`${ isAdding ? 'bg-green-500': 'bg-yellow-500' } py-1 px-4 rounded-full font-bold`}>ADD{isAdding ? 'ED': ''}</button>\n           </div>\n         </div>\n    </div>\n   </Link>\n  )\n}\n\nexport default Sproduct;\n","import {useState, useEffect, useContext} from 'react';\nimport Sproduct from './Sproduct'\nimport {CartContext} from '../CartContext';\n\nconst Product = () => {\n\n  // const {name} = useContext(CartContext);\n\nconst [products, setProducts]= useState([]);\nuseEffect(()=>{\nfetch('https://raw.githubusercontent.com/codersgyan/ecommerce-rest-apis-node/main/database/products.json')\n.then(response => response.json())\n.then(products=>{\n  setProducts(products)\n})\n},[]);\n\n  return (\n    <div className=\"container mx-auto pd-24\">\n      <h1 className=\"text-lg font-bold my-8\">Products</h1>\n      <div className=\"grid grid-cols-5 my-8 gap-24\">\n        \n        {products.map(product=> <Sproduct key={product._id} product={product}/>)}\n      </div>\n    </div>\n  )\n}\n\nexport default Product\n","import Product from '../component/Product'\n\nconst Home = () => {\n  return (\n    <>\n    <div className=\"hero py-16\">\n      <div className=\"container mx-auto flex items-center justify-between\">\n          <div className=\"w-1/2\">\n           <h1 className=\"text-lg\"> <em>Are you hungary?</em></h1>\n           <h1 className=\"text-3xl md:text-3xl font-bold\"> Don't wait !</h1>\n          <div className=\"mt-4\"><a href=\"Product\" className=\"btn px-6 py-2 rounded-full text-white font-bold mt-4 bg-yellow-500 hover:bg-yellow-600\">Order Now </a></div>\n            </div>\n\n            {/* Image */}\n          <div className=\"w-1/2\">\n              <img className=\"w-4/5\" src=\"https://raw.githubusercontent.com/codersgyan/react-shopping-cart/main/public/images/pizza.png\" alt=\"\"pizza/>\n          </div>\n      </div>\n    </div>\n\n\n    <div className=\"pb-24\">\n         <Product/>\n    </div>\n    </>\n  )\n}\n\nexport default Home\n","import {Link} from 'react-router-dom'\nimport {useContext} from 'react';\nimport {CartContext} from '../CartContext';\n\nconst Navigation = () => {\n  const cartStyle = {\n    background: '#F59E0D',\n    display: 'flex',\n    padding: '6px 12px',\n    borderRadius: '50px'\n  }\n\n  const {cart} = useContext(CartContext);\n  return (\n    <>\n      <nav className=\"container mx-auto flex items-center justify-between py-4\">\n         <Link to=\"/\">\n          <img style={{height:45}} src=\"https://raw.githubusercontent.com/codersgyan/react-shopping-cart/main/public/images/logo.png\" alt=\"logo\"/>\n         </Link>\n\n\n         <ul className=\"flex items-center\">\n           <li><Link to=\"/\">Home</Link></li>\n           <li className=\"ml-6\"><Link to=\"/product\">Products</Link></li>\n           <li className=\"ml-6\"><Link to=\"\">\n             <div style={cartStyle}>\n               <span>{cart.totalItems}</span>\n               <img className=\"ml-2\" src=\"https://raw.githubusercontent.com/codersgyan/react-shopping-cart/main/public/images/cart.png\" alt=\"cart-icon\"/>\n             </div>\n             </Link></li>\n         </ul>\n      </nav>\n    </>\n  )\n}\n\nexport default Navigation\n","import React from 'react'\nimport Product from '../component/Product'\n\nconst Productpage = () => {\n  return (\n    <Product/>\n  )\n}\n\nexport default Productpage;\n","import { useContext, useEffect, useState } from 'react';\nimport { CartContext } from '../CartContext';\n\nconst Cart = () => {\n    let total = 0;\n    const [products, setProducts] = useState([]);\n    const { cart, setCart } = useContext(CartContext);\n\n    const [priceFetched, togglePriceFetched] = useState(false);\n\n    useEffect(() => {\n        if (!cart.items) {\n            return;\n        }\n\n        if (priceFetched) {\n            return; \n        }\n\n        fetch(\"https://raw.githubusercontent.com/codersgyan/ecommerce-rest-apis-node/main/database/products.json\", {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify({ ids: Object.keys(cart.items)})\n        }).then(res => res.json())\n        .then(products => {\n            setProducts(products);\n            togglePriceFetched(true);\n        })\n    }, [cart, priceFetched]);\n\n    const getQty = (productId) => {\n        return cart.items[productId];\n    }\n\n    const increment = (productId) => {\n        const existingQty = cart.items[productId];\n        const _cart = {...cart};\n        _cart.items[productId] = existingQty + 1;\n        _cart.totalItems += 1;\n        setCart(_cart);\n    }\n\n    const decrement = (productId) => {\n        const existingQty = cart.items[productId];\n       if (existingQty === 1) {\n            return;\n       }\n        const _cart = {...cart};\n        _cart.items[productId] = existingQty - 1;\n        _cart.totalItems -= 1;\n        setCart(_cart);\n    }\n\n    const getSum = (productId, price) => {\n        const sum = price * getQty(productId);\n        total += sum;\n        return sum;\n    }\n\n    const handleDelete = (productId) => {\n        const _cart = {...cart};\n        const qty = _cart.items[productId];\n        delete _cart.items[productId];\n        _cart.totalItems -= qty;\n        setCart(_cart);\n        const updatedProductsList = products.filter((product) => product.name !== productId);\n        setProducts(updatedProductsList);\n    }\n\n    const handleOrderNow = () => {\n        window.alert('Order placed succesfully!');\n        setProducts([]);\n        setCart({});\n    }\n\n    return (\n        !products.length\n        ? <img className=\"mx-auto w-1/2 mt-12\" src=\"/images/empty-cart.png\" alt=\"\" />\n        :\n        <div className=\"container mx-auto lg:w-1/2 w-full pb-24\">\n            <h1 className=\"my-12 font-bold\">Cart items</h1>\n            <ul>\n                {\n                    products .map(product => {\n                        return (\n                            <li className=\"mb-12\" key={product.naem}>\n                            <div className=\"flex items-center justify-between\">\n                                <div className=\"flex items-center\">\n                                    <img className=\"h-16\" src={product.image} alt=\"\" />\n                                    <span className=\"font-bold ml-4 w-48\">{ product.name }</span>\n                                </div>\n                                <div>\n                                   <button onClick={() => { decrement(product.name) }} className=\"bg-yellow-500 px-4 py-2 rounded-full leading-none\">-</button>\n                                   <b className=\"px-4\">{ getQty(product.name) }</b>\n                                   <button onClick={() => { increment(product.name) }} className=\"bg-yellow-500 px-4 py-2 rounded-full leading-none\">+</button>\n                                </div>\n                                <span>₹ { getSum(product.name, product.price) }</span>\n                                <button onClick={() => { handleDelete(product.name) }} className=\"bg-red-500 px-4 py-2 rounded-full leading-none text-white\">Delete</button>\n                            </div>\n                        </li>\n                        )\n                    })\n                }\n            </ul>\n            <hr className=\"my-6\"/>\n            <div className=\"text-right\">\n                <b>Grand Total:</b> ₹ { total }\n            </div>\n            <div className=\"text-right mt-6\">\n                <button onClick={handleOrderNow} className=\"bg-yellow-500 px-4 py-2 rounded-full leading-none\">Order Now</button>\n            </div>\n        </div>\n    )\n}\n\nexport default Cart;","import {useParams, useHistory} from 'react-router-dom';\nimport {useEffect, useState} from 'react';\n\n\nconst SingleProduct = () => {\n\n  const [sproduct, setProduct]=useState({});\n  const params = useParams();\n  const history = useHistory()\n \n\n\n  useEffect(()=>{\n    fetch(\"https://raw.githubusercontent.com/codersgyan/ecommerce-rest-apis-node/main/database/products.json\")\n    .then(res => res.json())\n    .then(sproduct=>{\n      console.log(sproduct)\n    })\n  },[])\n\n  return (\n    <div className=\"container mx-auto mt-12\">\n    <button className=\"mb-12 font-bold\" onClick={()=>{history.goBack()}}>Back</button>\n    <div className=\"flex \">\n      <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTAr5J25hbEsBpd37RRyR2Q1c2yoAO2HzrqQuHvWiT5qAeJHp4FTXwt-Oisjhb2y-92Ec8&usqp=CAU\" alt=\"pizza\"></img>\n      <div className=\"ml-16\">\n        <h1 className=\"text-xl font-bold\">Havanad pixxa</h1>\n        <div className=\"text-md\">small</div>\n        <div className=\"font-bold mt-2\">₹ 400</div>\n        <button className=\"bg-yellow-500 py-1 px-8 rounded-full font-bold mt-4\"> Add to cart</button>\n      </div>\n    </div>\n    </div>\n  )\n}\n\nexport default SingleProduct;\n","import {BrowserRouter as Router, Switch, Route} from 'react-router-dom'\nimport Home from './pages/Home'\n// import About from './pages/About'\nimport Navigation from './component/Navigation'\nimport Productpage from './pages/Productpage'\nimport Cart from './pages/Cart'\nimport SingleProduct from './pages/SingleProduct';\nimport { CartContext } from './CartContext'\nimport {useEffect , useState} from 'react';\n\nconst App = () => {\n\n   const [cart, setCart] = useState({});\n\n   useEffect(() => {\n   const cart = window.localStorage.getItem('cart');\n   setCart(JSON.parse(cart));\n   }, []);\n\n   useEffect(() => {\n    window.localStorage.setItem('cart', JSON.stringify(cart));\n    }, [cart]);\n\n\n  return(\n    <>\n    <Router>\n      <CartContext.Provider value={{cart, setCart}}>\n      <Navigation />\n      <Switch>\n          <Route path=\"/\" component={Home} exact></Route>\n          {/* <Route path=\"/about\" component={About} ></Route> */}\n          <Route path=\"/product\" exact component={Productpage}></Route>\n          <Route path=\"/product\" component={SingleProduct}></Route>\n          <Route path=\"/cart\" component={Cart}></Route>\n       </Switch>\n       </CartContext.Provider>\n    </Router>\n    </>\n  )\n}\n\nexport default App;","import ReactDOM from 'react-dom'\nimport App from './App'\n\n\n\nReactDOM.render(\n <App/>,\n  document.getElementById('root')\n)"],"sourceRoot":""}