(this["webpackJsonpapp-ssr"]=this["webpackJsonpapp-ssr"]||[]).push([[0],{29:function(e,t,c){"use strict";c.r(t);var s=c(17),n=c.n(s),a=c(7),r=c(8),i=c(2),l=c(1),o=c(10),j=Object(l.createContext)(null),d=c(0),b=function(e){var t=Object(l.useState)(!1),c=Object(a.a)(t,2),s=c[0],n=c[1],i=Object(l.useContext)(j),b=i.cart,m=i.setCart,u=e.product;return Object(d.jsx)(r.b,{to:"/product/".concat(u.name),children:Object(d.jsx)("div",{children:Object(d.jsxs)("div",{children:[Object(d.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTAr5J25hbEsBpd37RRyR2Q1c2yoAO2HzrqQuHvWiT5qAeJHp4FTXwt-Oisjhb2y-92Ec8&usqp=CAU",alt:"pizza"}),Object(d.jsxs)("div",{className:"text-center",children:[Object(d.jsx)("h2",{className:"text-lg font-bold py-2",children:u.name}),Object(d.jsx)("span",{className:"bg-gray-200 py-1 rounded-full text-sm px-4",children:e.product.size})]}),Object(d.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[Object(d.jsxs)("span",{children:["\u20b9",u.price]}),Object(d.jsxs)("button",{disabled:s,onClick:function(e){!function(e,t){e.preventDefault();var c=Object(o.a)({},b);c.items||(c.items={}),c.items[t.name]?c.items[t.name]=1:c.items[t.name]=c.items[t.name]+1,c.totalItems||(c.totalItems=0),c.totalItems+=1,m(c),n(!0),setTimeout((function(){n(!1)}),1e3)}(e,u)},className:"".concat(s?"bg-green-500":"bg-yellow-500"," py-1 px-4 rounded-full font-bold"),children:["ADD",s?"ED":""]})]})]})})})},m=function(){var e=Object(l.useState)([]),t=Object(a.a)(e,2),c=t[0],s=t[1];return Object(l.useEffect)((function(){fetch("https://raw.githubusercontent.com/codersgyan/ecommerce-rest-apis-node/main/database/products.json").then((function(e){return e.json()})).then((function(e){s(e)}))}),[]),Object(d.jsxs)("div",{className:"container mx-auto pd-24",children:[Object(d.jsx)("h1",{className:"text-lg font-bold my-8",children:"Products"}),Object(d.jsx)("div",{className:"grid grid-cols-5 my-8 gap-24",children:c.map((function(e){return Object(d.jsx)(b,{product:e},e._id)}))})]})},u=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"hero py-16",children:Object(d.jsxs)("div",{className:"container mx-auto flex items-center justify-between",children:[Object(d.jsxs)("div",{className:"w-1/2",children:[Object(d.jsxs)("h1",{className:"text-lg",children:[" ",Object(d.jsx)("em",{children:"Are you hungary?"})]}),Object(d.jsx)("h1",{className:"text-3xl md:text-3xl font-bold",children:" Don't wait !"}),Object(d.jsx)("div",{className:"mt-4",children:Object(d.jsx)("a",{href:"Product",className:"btn px-6 py-2 rounded-full text-white font-bold mt-4 bg-yellow-500 hover:bg-yellow-600",children:"Order Now "})})]}),Object(d.jsx)("div",{className:"w-1/2",children:Object(d.jsx)("img",{className:"w-4/5",src:"https://raw.githubusercontent.com/codersgyan/react-shopping-cart/main/public/images/pizza.png",alt:"",pizza:!0})})]})}),Object(d.jsx)("div",{className:"pb-24",children:Object(d.jsx)(m,{})})]})},x=function(){var e=Object(l.useContext)(j).cart;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("nav",{className:"container mx-auto flex items-center justify-between py-4",children:[Object(d.jsx)(r.b,{to:"/",children:Object(d.jsx)("img",{style:{height:45},src:"https://raw.githubusercontent.com/codersgyan/react-shopping-cart/main/public/images/logo.png",alt:"logo"})}),Object(d.jsxs)("ul",{className:"flex items-center",children:[Object(d.jsx)("li",{children:Object(d.jsx)(r.b,{to:"/",children:"Home"})}),Object(d.jsx)("li",{className:"ml-6",children:Object(d.jsx)(r.b,{to:"/product",children:"Products"})}),Object(d.jsx)("li",{className:"ml-6",children:Object(d.jsx)(r.b,{to:"",children:Object(d.jsxs)("div",{style:{background:"#F59E0D",display:"flex",padding:"6px 12px",borderRadius:"50px"},children:[Object(d.jsx)("span",{children:e.totalItems}),Object(d.jsx)("img",{className:"ml-2",src:"https://raw.githubusercontent.com/codersgyan/react-shopping-cart/main/public/images/cart.png",alt:"cart-icon"})]})})})]})]})})},h=function(){return Object(d.jsx)(m,{})},O=function(){var e=0,t=Object(l.useState)([]),c=Object(a.a)(t,2),s=c[0],n=c[1],r=Object(l.useContext)(j),i=r.cart,b=r.setCart,m=Object(l.useState)(!1),u=Object(a.a)(m,2),x=u[0],h=u[1];Object(l.useEffect)((function(){i.items&&(x||fetch("https://raw.githubusercontent.com/codersgyan/ecommerce-rest-apis-node/main/database/products.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:Object.keys(i.items)})}).then((function(e){return e.json()})).then((function(e){n(e),h(!0)})))}),[i,x]);var O=function(e){return i.items[e]},p=function(t,c){var s=c*O(t);return e+=s,s};return s.length?Object(d.jsxs)("div",{className:"container mx-auto lg:w-1/2 w-full pb-24",children:[Object(d.jsx)("h1",{className:"my-12 font-bold",children:"Cart items"}),Object(d.jsx)("ul",{children:s.map((function(e){return Object(d.jsx)("li",{className:"mb-12",children:Object(d.jsxs)("div",{className:"flex items-center justify-between",children:[Object(d.jsxs)("div",{className:"flex items-center",children:[Object(d.jsx)("img",{className:"h-16",src:e.image,alt:""}),Object(d.jsx)("span",{className:"font-bold ml-4 w-48",children:e.name})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{onClick:function(){!function(e){var t=i.items[e];if(1!==t){var c=Object(o.a)({},i);c.items[e]=t-1,c.totalItems-=1,b(c)}}(e.name)},className:"bg-yellow-500 px-4 py-2 rounded-full leading-none",children:"-"}),Object(d.jsx)("b",{className:"px-4",children:O(e.name)}),Object(d.jsx)("button",{onClick:function(){!function(e){var t=i.items[e],c=Object(o.a)({},i);c.items[e]=t+1,c.totalItems+=1,b(c)}(e.name)},className:"bg-yellow-500 px-4 py-2 rounded-full leading-none",children:"+"})]}),Object(d.jsxs)("span",{children:["\u20b9 ",p(e.name,e.price)]}),Object(d.jsx)("button",{onClick:function(){!function(e){var t=Object(o.a)({},i),c=t.items[e];delete t.items[e],t.totalItems-=c,b(t);var a=s.filter((function(t){return t.name!==e}));n(a)}(e.name)},className:"bg-red-500 px-4 py-2 rounded-full leading-none text-white",children:"Delete"})]})},e.naem)}))}),Object(d.jsx)("hr",{className:"my-6"}),Object(d.jsxs)("div",{className:"text-right",children:[Object(d.jsx)("b",{children:"Grand Total:"})," \u20b9 ",e]}),Object(d.jsx)("div",{className:"text-right mt-6",children:Object(d.jsx)("button",{onClick:function(){window.alert("Order placed succesfully!"),n([]),b({})},className:"bg-yellow-500 px-4 py-2 rounded-full leading-none",children:"Order Now"})})]}):Object(d.jsx)("img",{className:"mx-auto w-1/2 mt-12",src:"/images/empty-cart.png",alt:""})},p=function(){var e=Object(l.useState)({}),t=Object(a.a)(e,2),c=(t[0],t[1],Object(i.g)(),Object(i.f)());return Object(l.useEffect)((function(){fetch("https://raw.githubusercontent.com/codersgyan/ecommerce-rest-apis-node/main/database/products.json").then((function(e){return e.json()})).then((function(e){console.log(e)}))}),[]),Object(d.jsxs)("div",{className:"container mx-auto mt-12",children:[Object(d.jsx)("button",{className:"mb-12 font-bold",onClick:function(){c.goBack()},children:"Back"}),Object(d.jsxs)("div",{className:"flex ",children:[Object(d.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTAr5J25hbEsBpd37RRyR2Q1c2yoAO2HzrqQuHvWiT5qAeJHp4FTXwt-Oisjhb2y-92Ec8&usqp=CAU",alt:"pizza"}),Object(d.jsxs)("div",{className:"ml-16",children:[Object(d.jsx)("h1",{className:"text-xl font-bold",children:"Havanad pixxa"}),Object(d.jsx)("div",{className:"text-md",children:"small"}),Object(d.jsx)("div",{className:"font-bold mt-2",children:"\u20b9 400"}),Object(d.jsx)("button",{className:"bg-yellow-500 py-1 px-8 rounded-full font-bold mt-4",children:" Add to cart"})]})]})]})},f=function(){var e=Object(l.useState)({}),t=Object(a.a)(e,2),c=t[0],s=t[1];return Object(l.useEffect)((function(){var e=window.localStorage.getItem("cart");s(JSON.parse(e))}),[]),Object(l.useEffect)((function(){window.localStorage.setItem("cart",JSON.stringify(c))}),[c]),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(r.a,{children:Object(d.jsxs)(j.Provider,{value:{cart:c,setCart:s},children:[Object(d.jsx)(x,{}),Object(d.jsxs)(i.c,{children:[Object(d.jsx)(i.a,{path:"/",component:u,exact:!0}),Object(d.jsx)(i.a,{path:"/product",exact:!0,component:h}),Object(d.jsx)(i.a,{path:"/product",component:p}),Object(d.jsx)(i.a,{path:"/cart",component:O})]})]})})})};n.a.render(Object(d.jsx)(f,{}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.feb4f15f.chunk.js.map